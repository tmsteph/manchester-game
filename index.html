<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hyatt AV Mystery Game</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #f8f8f2;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }
    h1, h2 {
      text-align: center;
      color: #ffcc00;
      margin-bottom: 0;
    }
    .section {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: rgba(28, 30, 42, 0.95);
      border-radius: 10px;
      box-shadow: 0 0 10px #00000055;
    }
    .btn {
      background: #ffcc00;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #ffd633;
    }
    .hidden {
      display: none;
    }
    .inventory {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .item {
      background: #44475a;
      padding: 5px 10px;
      border-radius: 5px;
    }
    .score {
      text-align: center;
      margin-top: 20px;
      font-weight: bold;
      color: #00ffcc;
    }
  </style>
</head>
<body>

<h1>üîç Hyatt AV Mystery Game</h1>

<div class="section" id="intro">
  <h2>Choose Your AV Tech</h2>
  <button class="btn" onclick="chooseCharacter('Speedy Sam')">‚ö° Speedy Sam</button>
  <button class="btn" onclick="chooseCharacter('Memory Max')">üß† Memory Max</button>
  <button class="btn" onclick="chooseCharacter('Smooth Sasha')">üòé Smooth Sasha</button>
</div>

<div class="section hidden" id="game">
  <h2 id="welcome"></h2>
  <p id="missionText"></p>

  <div id="rooms"></div>

  <h3>üßæ Inventory</h3>
  <div class="inventory" id="inventory"></div>

  <div class="score" id="scoreDisplay">Score: 0</div>

  <div id="solveSection" class="hidden">
    <h2>üîé Who or what is responsible?</h2>
    <div id="suspects"></div>
  </div>
</div>

<div class="section hidden" id="ending">
  <h2 id="endingTitle"></h2>
  <p id="endingText"></p>
  <div class="score" id="finalScore"></div>
  <button class="btn" onclick="location.reload()">Play Again</button>
</div>

<script>
  let inventory = [];
  let score = 0;
  const neededClues = 5;

  const scenarios = [
    {
      title: "Missing Microphone Mayhem",
      clues: [
        { room: "Seaport Ballroom", clue: "A bag of feedback suppressors is missing one." },
        { room: "Harbor Ballroom", clue: "Ghostly whispers echo, 'check the ceiling...'" },
        { room: "CS Desk", clue: "A guest saw someone in AV gear sneak off." },
        { room: "Grand Hall", clue: "A note says 'Midnight. Riser. Be there.'" },
        { room: "Housekeeping", clue: "A lens cap was found in a laundry chute." },
        { room: "Banquets", clue: "Someone left a headset on the dessert cart." }
      ],
      suspects: ["Ghost of Hyatt Past", "Banquet Dave", "AV Tech Alex"]
    },
    {
      title: "Phantom Frequency Frenzy",
      clues: [
        { room: "Seaport Ballroom", clue: "Mic frequency was hijacked." },
        { room: "Harbor Ballroom", clue: "Strange signals bounce off the walls." },
        { room: "CS Desk", clue: "Walkie-talkie transmits ghostly Morse code." },
        { room: "Coronado Ballroom", clue: "A book: 'Ghost Frequencies & You'" },
        { room: "Mission Beach", clue: "A Ouija board made of AV cue cards." }
      ],
      suspects: ["Phantom Tech", "Frequency Steve", "Ghost of Hyatt Past"]
    },
    {
      title: "Projector Panic",
      clues: [
        { room: "La Jolla Room", clue: "Burn marks near the HDMI hub." },
        { room: "Del Mar Room", clue: "Someone left instructions written in code." },
        { room: "Banquets", clue: "The projector was replaced with a toaster." },
        { room: "Housekeeping", clue: "Found black gloves and wire strippers." },
        { room: "CS Desk", clue: "A ticket requesting a backup projector ‚Äî hours before the issue." }
      ],
      suspects: ["Engineer Ed", "The Intern", "Techno Gremlin"]
    }
  ];

  const selected = scenarios[Math.floor(Math.random() * scenarios.length)];
  const culprit = selected.suspects[Math.floor(Math.random() * selected.suspects.length)];

  function chooseCharacter(name) {
    document.getElementById('intro').classList.add('hidden');
    document.getElementById('game').classList.remove('hidden');
    document.getElementById('welcome').textContent = `Welcome, ${name}!`;
    document.getElementById('missionText').textContent = `Your mission: ${selected.title}`;

    const roomsDiv = document.getElementById('rooms');
    selected.clues.forEach(({ room, clue }) => {
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.textContent = room;
      btn.onclick = () => visit(room, clue);
      roomsDiv.appendChild(btn);
    });

    const suspectsDiv = document.getElementById('suspects');
    selected.suspects.forEach(suspect => {
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.textContent = suspect;
      btn.onclick = () => solve(suspect);
      suspectsDiv.appendChild(btn);
    });
  }

  function visit(room, clue) {
    if (!inventory.includes(clue)) {
      inventory.push(clue);
      const item = document.createElement('div');
      item.className = 'item';
      item.textContent = clue;
      document.getElementById('inventory').appendChild(item);
      score += 10;
      updateScore();
      if (inventory.length >= neededClues) {
        document.getElementById('solveSection').classList.remove('hidden');
      }
    } else {
      alert("You've already investigated this room.");
      score -= 5;
      updateScore();
    }
  }

  function updateScore() {
    document.getElementById('scoreDisplay').textContent = "Score: " + score;
  }

  function solve(suspect) {
    document.getElementById('game').classList.add('hidden');
    document.getElementById('ending').classList.remove('hidden');

    if (suspect === culprit) {
      document.getElementById('endingTitle').textContent = "üéâ Mystery Solved!";
      document.getElementById('endingText').textContent = `${suspect} was indeed the culprit! Great detective work.`;
      score += 50;
    } else {
      document.getElementById('endingTitle').textContent = "‚ùå Wrong Accusation!";
      document.getElementById('endingText').textContent = `${suspect} was innocent. The real culprit was ${culprit}. Better luck next time.`;
      score -= 20;
    }

    document.getElementById('finalScore').textContent = "Final Score: " + score;
  }
</script>

</body>
</html>
