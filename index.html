<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hyatt AV Mystery Game</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0f111a;
      color: #f8f8f2;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
      color: #ffcc00;
    }
    .section {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: #1c1e2a;
      border-radius: 10px;
    }
    .btn {
      background: #ffcc00;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .btn:hover {
      background: #ffd633;
    }
    .hidden {
      display: none;
    }
    .inventory {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .item {
      background: #282a36;
      padding: 5px 10px;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<h1>üé§ Hyatt AV Mystery Generator</h1>

<div class="section" id="intro">
  <h2>Choose Your AV Tech</h2>
  <button class="btn" onclick="chooseCharacter('Speedy Sam')">‚ö° Speedy Sam</button>
  <button class="btn" onclick="chooseCharacter('Memory Max')">üß† Memory Max</button>
  <button class="btn" onclick="chooseCharacter('Smooth Sasha')">üòé Smooth Sasha</button>
</div>

<div class="section hidden" id="game">
  <h2 id="welcome"></h2>
  <p>You‚Äôve just discovered something strange during a high-profile event. Who ‚Äî or what ‚Äî is behind it?</p>
  <p>Explore rooms, gather 5 clues, and solve the mystery!</p>

  <div id="rooms"></div>

  <h3>Inventory</h3>
  <div class="inventory" id="inventory"></div>

  <div id="solveSection" class="hidden">
    <h2>Who or what is responsible?</h2>
    <div id="suspects"></div>
  </div>
</div>

<div class="section hidden" id="ending">
  <h2 id="endingTitle"></h2>
  <p id="endingText"></p>
  <button class="btn" onclick="location.reload()">Play Again</button>
</div>

<script>
  let inventory = [];
  const neededClues = 5;

  const scenarios = [
    {
      title: "Missing Microphone Mayhem",
      clues: [
        { room: "Seaport Ballroom", clue: "You find a bag of feedback suppressors ‚Äî one is clearly missing." },
        { room: "Harbor Ballroom", clue: "A ghostly whisper repeats 'check the ceiling...'" },
        { room: "CS Desk", clue: "A guest report says they saw someone in AV black gear sneak away." },
        { room: "Grand Hall", clue: "A note says 'Meet behind the riser. Midnight. Don't be late.'" },
        { room: "Housekeeping", clue: "They found a lens cap inside a laundry chute." },
        { room: "Banquets", clue: "One server is missing ‚Äî and left a headset on the dessert table." }
      ],
      suspects: ["The Ghost of Hyatt Past", "Banquet Dave", "AV Tech Alex"],
      culprit: "AV Tech Alex",
      endings: {
        "The Ghost of Hyatt Past": "The ghost is innocent ‚Äî just vibing.",
        "Banquet Dave": "He might have eaten the evidence, but not guilty this time.",
        "AV Tech Alex": "Alex forgot to return the mic after a rogue podcast session."
      }
    },
    {
      title: "Phantom Frequency Frenzy",
      clues: [
        { room: "Seaport Ballroom", clue: "The mic's frequency was hijacked during the keynote." },
        { room: "Harbor Ballroom", clue: "A frequency scanner shows unknown signals bouncing around." },
        { room: "CS Desk", clue: "A broken walkie-talkie was left buzzing static morse code." },
        { room: "Coronado Ballroom", clue: "You find a book titled 'Ghost Frequencies & You'." },
        { room: "Mission Beach Room", clue: "There‚Äôs a Ouija board made from AV cue cards." }
      ],
      suspects: ["The Phantom Tech", "Frequency Steve", "Ghost of Hyatt Past"],
      culprit: "The Phantom Tech",
      endings: {
        "The Phantom Tech": "It was real. The phantom haunts soundboards across the country.",
        "Frequency Steve": "Steve‚Äôs just a nerd. Misunderstood but harmless.",
        "Ghost of Hyatt Past": "A red herring again!"
      }
    }
  ];

  const selected = scenarios[Math.floor(Math.random() * scenarios.length)];

  function chooseCharacter(name) {
    document.getElementById('intro').classList.add('hidden');
    document.getElementById('game').classList.remove('hidden');
    document.getElementById('welcome').textContent = `Welcome, ${name}! Your mission: ${selected.title}`;

    const roomsDiv = document.getElementById('rooms');
    selected.clues.forEach(({ room, clue }) => {
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.textContent = room;
      btn.onclick = () => visit(room, clue);
      roomsDiv.appendChild(btn);
    });

    const suspectsDiv = document.getElementById('suspects');
    selected.suspects.forEach(suspect => {
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.textContent = suspect;
      btn.onclick = () => solve(suspect);
      suspectsDiv.appendChild(btn);
    });
  }

  function visit(room, clue) {
    if (!inventory.includes(clue)) {
      inventory.push(clue);
      const item = document.createElement('div');
      item.className = 'item';
      item.textContent = clue;
      document.getElementById('inventory').appendChild(item);
      if (inventory.length >= neededClues) {
        document.getElementById('solveSection').classList.remove('hidden');
      }
    } else {
      alert("You've already collected that clue!");
    }
  }

  function solve(suspect) {
    document.getElementById('game').classList.add('hidden');
    document.getElementById('ending').classList.remove('hidden');
    const isCorrect = suspect === selected.culprit;
    document.getElementById('endingTitle').textContent = isCorrect ? "üéâ Mystery Solved!" : "‚ùå Wrong Call!";
    document.getElementById('endingText').textContent = selected.endings[suspect];
  }
</script>

</body>
</html>
